import { Tabs } from "nextra/components";

### Deduct Tokens

Deducts tokens from a user\'s account.

- **URL**: `/api/tokens/deduct`
- **Method**: `POST`
- **Headers**:
  - `X-Developer-API-Key`: Your Developer API Key
  - `X-User-Connection-Key`: User Connection Key
  - `Content-Type`: `application/json`

#### Request Body

```json filename="deduct-body.json" copy
{
  "amount": number,
  "multiplier": number (optional, default: 1.0),
  "model": string (optional),
  "label": string (optional)
}
```

#### Response

```json filename="deduct-response.json" copy
{
  "success": boolean,
  "newBalance": number,
  "message": string,
  "deductedAmount": number
}
```

#### Error Response

```json filename="deduct-error-response.json" copy
{
  "error": string
}
```

#### Example

<Tabs items={["TypeScript", "Python", "CURL"]}>
<Tabs.Tab>

```ts filename="demo.ts" copy
const response = await fetch("https://api.hiero.gl/api/tokens/deduct", {
	method: "POST",
	headers: {
		"X-Developer-API-Key": "YOUR_DEVELOPER_API_KEY",
		"X-User-Connection-Key": "USER_CONNECTION_KEY",
		"Content-Type": "application/json",
	},
	body: JSON.stringify({
		amount: 100,
		multiplier: 1.5,
		model: "gpt-4",
		label: "Chat completion",
	}),
});
const data = await response.json();
```

</Tabs.Tab>
<Tabs.Tab>

```py filename="demo.py" copy
import requests

url = "https://api.hiero.gl/api/tokens/deduct"
headers = {
  "X-Developer-API-Key": "YOUR_DEVELOPER_API_KEY",
  "X-User-Connection-Key": "USER_CONNECTION_KEY",
  "Content-Type": "application/json",
}
payload = {
  "amount": 100,
  "multiplier": 1.5,
"model": "gpt-4",
  "label": "Chat completion",
}

response = requests.post(url, headers=headers, json=payload)
data = response.json()

```

</Tabs.Tab>
<Tabs.Tab>

```bash filename="demo.sh" copy
curl -X POST "https://api.hiero.gl/api/tokens/deduct" \
  -H "X-Developer-API-Key: YOUR_DEVELOPER_API_KEY" \
  -H "X-User-Connection-Key: USER_CONNECTION_KEY" \
  -H "Content-Type: application/json" \
  -d '{"amount": 100, "multiplier": 1.5, "model": "gpt-4", "label": "Chat completion"}'
```

</Tabs.Tab>
</Tabs>
